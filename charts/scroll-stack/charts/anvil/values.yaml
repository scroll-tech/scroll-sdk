---
global:
  nameOverride: &app_name anvil
  fullnameOverride: *app_name

controller:
  replicas: 1
  strategy: Recreate
  type: deployment

image:
  repository: ghcr.io/foundry-rs/foundry
  pullPolicy: Always
  tag: nightly-19d69f277de96f621d930cdb767a9693c55ae8e1

env:
  - name: CHAIN_ID
    value: 111111

command:
  ["/bin/sh","-c","anvil --host 0.0.0.0 --port 8545 --chain-id ${CHAIN_ID}"]
resources:
  requests:
    memory: "100Mi"
    cpu: "50m"
  limits:
    memory: "500Mi"
    cpu: "100m"

service:
  main:
    enabled: true
    ports:
      http:
        enabled: true
        port: 8545
        targetPort: 8545

defaultProbes: &default_probes
  enabled: false
  tcpSocket:
    port: 8545

probes:
  liveness:
    << : *default_probes
  readiness:
    << : *default_probes
  startup:
    << : *default_probes